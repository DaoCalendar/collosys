<div class="span12" ng-form="formPayment">
    <div class="row-fluid">

        <!--Date Range-->
        <div class="row-fluid">
            <h5 style="font-weight: normal;">Date Range</h5>
            <hr />
            <div class="row-fluid">
                <div class="control-group span6">
                    <label class="control-label">Start Date</label>
                    <div class="controls">
                        <div class="input-append">
                            <input type="text" class="input-medium" ng-required="Hierarchy.HasPayment" data-ng-model="Stakeholder.Payment.StartDate" data-date-format="dd-mm-yyyy" bs-datepicker>
                            <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i></button>
                        </div>
                        @* <label class="help-inline alert-error" ng-show=" !(Stakeholder.Payment.StartDate >= Stakeholder.JoiningDate )">Start date should be greater than or equal to Date of Joining</label>*@
                    </div>
                </div>
                <div class="control-group span6">
                    <label class="control-label">End Date</label>
                    <div class="controls">
                        <div class="input-append">
                            <input type="text" class="input-medium" ng-required="Hierarchy.HasPayment" ui-validate=" '$value > Stakeholder.Payment.StartDate' " ng-model="Stakeholder.Payment.EndDate" data-date-format="dd-mm-yyyy" bs-datepicker>
                            <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Variable Payment-->
        <div class="row-fluid" ng-show="Hierarchy.HasVarible">
            <h5 style="font-weight: normal;">Variable Pay</h5>
            <hr />
            <div class="row-fluid">
                <div class="control-group span6">
                    <label class="control-label">Collcetion Policy:</label>

                    <div class="controls">
                        <select id="linerPolicy" ng-required="Hierarchy.HasVarible" ng-model="Stakeholder.Payment.VariableLiner" ng-options="c for c in LinerPolicyList" style="min-width: 200px;"></select>
                    </div>
                </div>
                <div class="control-group span6">
                    <label class="control-label">Recovery Policy:</label>

                    <div class="controls">
                        <select id="writeoffPolicy" ng-required="Hierarchy.HasVarible" ng-model="Stakeholder.Payment.VariableWriteoff" ng-options="c for c in WriteoffPolicyList" style="min-width: 200px;"></select>
                    </div>
                </div>

            </div>
        </div>

        <!--Fixed Pay-->
        <div class="row-fluid" data-ng-show="Hierarchy.HasFixed">
            <h5 style="font-weight: normal;">Fixed Pay</h5>
            <hr />
            <div class="row-fluid">
                <div class="row-fluid">
                    <div class="control-group span6">
                        <label class="control-label">Fixpay Basic:</label>

                        <div class="controls">
                            <input type="text"
                                data-ng-required="Hierarchy.HasFixed"
                                data-ng-pattern="/^[0-9]+$/"
                                data-ng-maxlength="8"
                                data-ng-model="Stakeholder.Payment.FixpayBasic" />
                        </div>
                    </div>
                    <div class="control-group span6" data-ng-show="Hierarchy.HasFixedIndividual">
                        <label class="control-label">Fixpay Hra:</label>

                        <div class="controls">
                            <input type="text"
                                data-ng-required="Hierarchy.HasFixedIndividual"
                                data-ng-pattern="/^[0-9]+$/" data-ng-maxlength="8"
                                data-ng-model="Stakeholder.Payment.FixpayHra" />
                        </div>
                    </div>
                </div>

                <div class="row-fluid">
                    <div class="control-group span6" data-ng-show="Hierarchy.HasFixedIndividual">
                        <label class="control-label">Fixpay Other:</label>

                        <div class="controls">
                            <input type="text"
                                data-ng-required="Hierarchy.HasFixedIndividual"
                                data-ng-pattern="/^[0-9]+$/"
                                data-ng-maxlength="8"
                                data-ng-model="Stakeholder.Payment.FixpayOther" />
                        </div>
                    </div>
                    <div class="control-group span6 info" data-ng-show="false">
                        <label class="control-label">Total:</label>
                        <div class="controls">
                            <input type="text"
                                data-ng-model="Stakeholder.Payment.FixpayTotal"
                                readonly
                                value="{{ Stakeholder.Payment.FixpayTotal = TotalPay(Stakeholder.Payment)}}" />
                        </div>
                    </div>
                </div>
            </div>
            <div class="row-fluid" data-ng-show="Hierarchy.HasFixedIndividual">
                <table class="table table-bordered table-hover" data-ng-show="Stakeholder.Payment.FixpayBasic">
                    <thead>
                        <tr>
                            <th data-ng-show="Stakeholder.Payment.FixpayBasic">Basic</th>
                            <th data-ng-show="Stakeholder.Payment.FixpayHra && Stakeholder.Payment.FixpayOther">Allowances</th>

                            @*  <th data-ng-show="Stakeholder.Payment.FixpayBasic">Individual PF(12%)</th>
                                                <th data-ng-show="Stakeholder.Payment.FixpayBasic">Total PF</th>*@
                            <th data-ng-show="Stakeholder.Payment.FixpayBasic">Employee PF</th>
                            <th data-ng-show="Stakeholder.Payment.FixpayBasic">Employer PF</th>
                            <th>Employee ESIC</th>
                            <th>Employer ESIC</th>
                            <th>Service Charge</th>
                            <th>Service Tax</th>
                            <th>Gross Pay</th>
                        </tr>
                        <tr>
                            <th data-ng-show="Stakeholder.Payment.FixpayBasic"></th>
                            <th data-ng-show="Stakeholder.Payment.FixpayHra && Stakeholder.Payment.FixpayOther"></th>
                            <th data-ng-show="Stakeholder.Payment.FixpayBasic">Basic * 12%</th>
                            <th data-ng-show="Stakeholder.Payment.FixpayBasic">Basic * 12%</th>
                            <th>Basic * 1.75%</th>
                            <th>Basic * 4.5% </th>
                            <th>Basic * {{SalDetails.servPer}}%</th>
                            <th>Basic * 12.36</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td data-ng-show="Stakeholder.Payment.FixpayBasic">{{Stakeholder.Payment.FixpayBasic}}</td>
                            <td data-ng-show="Stakeholder.Payment.FixpayHra && Stakeholder.Payment.FixpayOther">{{Stakeholder.Payment.FixpayHra*1 + Stakeholder.Payment.FixpayOther*1}}
                            </td>

                            @*<td data-ng-show="Stakeholder.Payment.FixpayBasic">{{(Stakeholder.Payment.FixpayBasic * 12)/100}}</td>
                                                <td data-ng-show="Stakeholder.Payment.FixpayBasic">{{((Stakeholder.Payment.FixpayBasic * 12)/100)*2}}</td>*@
                            <td data-ng-show="Stakeholder.Payment.FixpayBasic">{{(SalDetails.pf*1)}}</td>
                            <td data-ng-show="Stakeholder.Payment.FixpayBasic">{{(SalDetails.pf*1)}}</td>
                            <td>{{SalDetails.esicEmployee}}</td>
                            <td>{{SalDetails.esicEmployer}}</td>
                            <td>{{SalDetails.serviceCharge}}</td>
                            <td>{{SalDetails.serviceTax}}</td>
                            <td>{{Stakeholder.Payment.FixpayTotal}}</td>
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>

        <!--Other Pay-->
        <div class="row-fluid" ng-show="Hierarchy.HasServiceCharge">
            <h5 style="font-weight: normal;">Other Charges</h5>
            <hr />

            <div class="row-fluid">
                <div class="control-group span6">
                    <label class="control-label">Service Charge:</label>
                    <div class="controls">
                        <div class="input-append">
                            <input type="text"
                                data-ng-required="Hierarchy.HasServiceCharge"
                                data-ng-pattern="/^[0-9]+$/"
                                data-ng-maxlength="2"
                                data-ng-maxvalue="100"
                                class="input-mini"
                                data-ng-model="Stakeholder.Payment.ServiceCharge" />
                            <span class="add-on">%</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Allowances-->
        <div class="row-fluid" ng-show="Hierarchy.HasMobileTravel">
            <h5 style="font-weight: normal;">Reimbursements</h5>
            <hr />
            <div class="row-fluid">
                <div class="control-group span6">
                    <label class="control-label">Mobile Eligibility:</label>

                    <div class="controls">
                        <input type="text" ng-required="Hierarchy.HasMobileTravel" ng-pattern="/^[0-9]+$/" ng-maxlength="8" ng-model="Stakeholder.Payment.MobileElig" />
                    </div>
                </div>
                <div class="control-group span6">
                    <label class="control-label">Travel Eligibility:</label>

                    <div class="controls">
                        <input type="text" ng-required="Hierarchy.HasMobileTravel" ng-pattern="/^[0-9]+$/" ng-maxlength="8" ng-model="Stakeholder.Payment.TravelElig" />
                    </div>
                </div>
            </div>
        </div>

        <!--Bank details-->
        <div class="row-fluid" ng-show="Hierarchy.HasBankDetails">
            <h5 style="font-weight: normal;">Bank Details</h5>
            <hr />
            <div class="row-fluid">
                <div class="row-fluid">
                    <div class="control-group span6">
                        <label class="control-label">Bank Acc. No:</label>

                        <div class="controls">
                            <input type="text" ng-required="Hierarchy.HasBankDetails" ng-pattern="/^[0-9]+$/" ng-maxlength="20" ng-minlength="11" ng-model="Stakeholder.Payment.BankAccNo" />
                        </div>
                    </div>
                    <div class="control-group span6">
                        <label class="control-label">Bank Name:</label>

                        <div class="controls">
                            <input type="text" ng-required="Hierarchy.HasBankDetails" ng-model="Stakeholder.Payment.BankAccName" />
                        </div>
                    </div>
                </div>
                <div class="row-fluid">
                    <div class="control-group span6">
                        <label class="control-label">Bank IFSC No:</label>

                        <div class="controls">
                            <input type="text" ng-required="Hierarchy.HasBankDetails" ng-pattern="/^[A-Z][A-Z][A-Z][A-Z][0-9][0-9][0-9][0-9][0-9][0-9][0-9]$/" ng-model="Stakeholder.Payment.BankIfscCode" />
                            <label class="help-inline">Ex : AAAA0000000</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!--Row 6 for Add another payment details-->
        <div class="control-group span6">
            <div class="controls">
                <input type="button" ng-disabled="!formPayment.$valid" class="btn btn-success" value="Add Payment" ng-click="AddPayment(Stakeholder)" />
            </div>
        </div>

        <!--table for displaying added payments-->
        <div class="row-fluid" ng-show="Stakeholder.StkhPayments.length>0">

            <table class="table table-bordered table-hover">
                <thead>
                    <tr class="success">
                        <th>Delete</th>
                        <th data-ng-show="Hierarchy.HasMobileTravel">Mobile Elg.</th>
                        <th data-ng-show="Hierarchy.HasMobileTravel">Travel Elg.</th>
                        <th data-ng-show="Hierarchy.HasVarible">Collection Policy</th>
                        <th data-ng-show="Hierarchy.HasVarible">Recovery Policy</th>
                        <th data-ng-show="Hierarchy.HasFixedSummary">Fixed Basic</th>
                        <th data-ng-show="Hierarchy.HasFixedIndividual">Fixed Basic</th>
                        <th data-ng-show="Hierarchy.HasFixedIndividual">Fixed Hra</th>
                        <th data-ng-show="Hierarchy.HasFixedIndividual">Fixed Other</th>
                        <th data-ng-show="Hierarchy.HasServiceCharge">Service Charge</th>
                        <th>Start Date</th>
                        <th>End Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="info" ng-repeat="c in Stakeholder.StkhPayments">
                        <td>
                            <div class="btn-group" ng-show="Stakeholder.StkhPayments.length>1">
                                <i class="btn icon-trash" data-ng-click="DeletePayment($index)"></i>
                            </div>
                        </td>
                        <td data-ng-show="Hierarchy.HasMobileTravel">{{c.MobileElig}}
                        </td>
                        <td data-ng-show="Hierarchy.HasMobileTravel">{{c.TravelElig}}
                        </td>
                        <td data-ng-show="Hierarchy.HasVarible">{{c.VariableLiner}}
                        </td>
                        <td data-ng-show="Hierarchy.HasVarible">{{c.VariableWriteoff}}
                        </td>
                        <td data-ng-show="Hierarchy.HasFixedSummary">{{c.FixpayBasic}}
                        </td>
                        <td data-ng-show="Hierarchy.HasFixedIndividual">{{c.FixpayBasic}}
                        </td>
                        <td data-ng-show="Hierarchy.HasFixedIndividual">{{c.FixpayHra}}
                        </td>
                        <td data-ng-show="Hierarchy.HasFixedIndividual">{{c.FixpayOther}}
                        </td>
                        <td data-ng-show="Hierarchy.HasServiceCharge">{{c.ServiceCharge}}
                        </td>
                        <td>{{c.StartDate | date}}</td>
                        <td>{{c.EndDate | date}}</td>
                    </tr>
                </tbody>
            </table>
        </div>

    </div>
</div>
