<div class="panel panel-default">
    <div class="panel-heading">Working Details</div>
    <div class="panel-body">
        <cs-form>
            <form>
                <table class="table table-bordered">
                    <thead>
                        <tr>
                            <th class="col-md-2">Product</th>
                            <th class="col-md-2">Reports To</th>
                            <th class="col-md-2" data-ng-show="displayManager.showRegion">Region</th>
                            <th class="col-md-2" data-ng-show="displayManager.showCluster">Cluster</th>
                            <th class="col-md-2" data-ng-show="displayManager.showState">State</th>
                            <th class="col-md-2" data-ng-show="displayManager.showDistrict">District</th>
                            <th class="col-md-2" data-ng-show="displayManager.showCity"  >City</th>
                            <th class="col-md-2" data-ng-show="displayManager.showArea"  >Area</th>
                            <th class="col-md-2"></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            
                            <td>
                                <cs-field field="workingModel.Products"
                                          data-ng-model="Working.Products"
                                          no-label=""
                                          data-ng-change="getReportsTo(Working.Products)">
                                </cs-field>
                            </td>

                            <td >
                                <cs-field field="workingModel.ReportsTo"
                                          no-label=""
                                          value-list="reportsToList"
                                          data-ng-change="getPincodeData(WorkingModel)"
                                          data-ng-model="Working.ReportsTo">
                                </cs-field>
                            </td>

                            <td data-ng-show="displayManager.showRegion">
                                <cs-field data-ng-show="!showDropdown('Region')" 
                                          field="workingModel.Region"
                                          no-label=""  
                                          data-ng-change="getPincodeData(WorkingModel,'Region')"    
                                          data-ng-model="WorkingModel.SelectedPincodeData.Region"
                                          value-list="WorkingModel.ListOfRegions">
                                </cs-field>
                                <div data-ng-if="showDropdown('Region')">
                                    <multiselect data-ng-model="WorkingModel.SelectedPincodeData.Region"
                                                 change="getPincodeData(WorkingModel,'Region')"    
                                                 options="c for c in WorkingModel.ListOfRegions" multiple="true">
                                    </multiselect>
                                </div>
                            </td>

                            <td data-ng-show="displayManager.showCluster "  >
                                <cs-field field="workingModel.Cluster"
                                          no-label=""  
                                          data-ng-show="!showDropdown('Cluster')"
                                           data-ng-change="getPincodeData(WorkingModel,'Cluster')"   
                                          data-ng-model="WorkingModel.SelectedPincodeData.Cluster"
                                          value-list="WorkingModel.ListOfStates">
                                </cs-field>
                                <div data-ng-if="showDropdown('Cluster')">
                                    <multiselect data-ng-model="WorkingModel.SelectedPincodeData.Cluster"
                                                 change="getPincodeData(WorkingModel,'Cluster')"    
                                                 options="c for c in WorkingModel.ListOfClusters" multiple="true">
                                    </multiselect>
                                </div>
                            </td>
                            
                            <td data-ng-show="displayManager.showState">
                                <cs-field field="workingModel.State"
                                          data-ng-model="WorkingModel.SelectedPincodeData.State"   
                                          no-label="" 
                                          data-ng-change="getPincodeData(WorkingModel,'State')"   
                                          data-ng-show="!showDropdown('State')"
                                          value-list="WorkingModel.ListOfStates"></cs-field>
                                <div data-ng-if="showDropdown('State')">
                                    <multiselect data-ng-model="WorkingModel.SelectedPincodeData.State"
                                                 change="getPincodeData(WorkingModel,'State')" 
                                                 options="c for c in WorkingModel.ListOfStates" multiple="true">
                                    </multiselect>
                                </div>
                            </td>
                            
                            <td data-ng-show="displayManager.showDistrict "  >
                                <cs-field field="workingModel.District"
                                          no-label=""  
                                          data-ng-show="!showDropdown('District')"
                                           data-ng-change="getPincodeData(WorkingModel,'District')"   
                                          data-ng-model="WorkingModel.SelectedPincodeData.District" 
                                          value-list="WorkingModel.ListOfDistricts" >
                                </cs-field>
                                <div data-ng-if="showDropdown('District')">
                                    <multiselect data-ng-model="WorkingModel.SelectedPincodeData.District"
                                                 change="getPincodeData(WorkingModel,'District')"    
                                                 options="c for c in WorkingModel.ListOfDistricts" multiple="true">
                                    </multiselect>
                                </div>
                            </td>
                            
                            <td  data-ng-show="displayManager.showCity "  >
                                <cs-field field="workingModel.City"
                                          no-label=""  
                                          data-ng-show="!showDropdown('City')" 
                                          value-list="WorkingModel.ListOfCities"
                                          data-ng-change="getPincodeData(WorkingModel,'City')" 
                                          data-ng-model="WorkingModel.SelectedPincodeData.City">
                                </cs-field>
                                <div data-ng-if="showDropdown('City')">
                                    <multiselect data-ng-model="WorkingModel.SelectedPincodeData.City"
                                                 change="getPincodeData(WorkingModel,'City')"    
                                                 options="c for c in WorkingModel.ListOfCities" multiple="true">
                                    </multiselect>
                                </div>
                            </td>
                            
                            <td data-ng-show="displayManager.showArea "  >
                                <cs-field field="workingModel.Area"
                                          no-label=""    
                                          data-ng-show="!showDropdown('Area')"
                                          data-ng-model="Working.Area"
                                           data-ng-change="getPincodeData(WorkingModel,'Area')"   
                                          value-list="WorkingModel.ListOfAreas">
                                </cs-field>
                                <div data-ng-if="showDropdown('Area')">
                                    <multiselect data-ng-model="WorkingModel.SelectedPincodeData.Area"
                                                 change="getPincodeData(WorkingModel,'Area')"    
                                                 options="c for c in WorkingModel.ListOfAreas" multiple="true">
                                    </multiselect>
                                </div>
                            </td>
                            <td >
                                <cs-button type="submit" text="add" data-ng-click="addWorking(WorkingModel,selectedHierarchy.LocationLevel)"></cs-button>
                            </td>
                        </tr>
                        <tr data-ng-repeat="data in workingDetailsList">
                            <td class="col-md-2">{{Working.Products}}</td>
                            <td class="col-md-2">{{Working.ReportsTo}}</td>
                            <td class="col-md-2" data-ng-show="displayManager.showRegion">{{data.Region}}</td>
                            <td class="col-md-2" data-ng-show="displayManager.showCluster">{{data.Cluster}}</td>
                            <td class="col-md-2" data-ng-show="displayManager.showState">{{data.State}}</td>
                            <td class="col-md-2" data-ng-show="displayManager.showDistrict">{{data.District}}</td>
                            <td class="col-md-2" data-ng-show="displayManager.showCity">{{data.City}}</td>
                            <td class="col-md-2" data-ng-show="displayManager.showArea">{{data.Area}}</td>
                            <td class="col-md-2"></td>
                        </tr>
                    </tbody>
                </table>
                <div class="pull-left">
                    <cs-button type="save"
                               permission="Stakeholder,Stakeholder,AddEdit"
                               data-ng-click="save(workingDetailsList)">
                    </cs-button>
                </div>
            </form>
        </cs-form>
    </div>
</div>
<div class="clearfix"></div>
<div class="panel panel-default">
    <div class="panel-heading">Payment Details</div>
    <div class="panel-body">
        <cs-form>
            <form>
                <div data-ng-if="selectedHierarchy.HasFixed || true">
                    <h5 class="modal-header"><b>Fixed Pay</b></h5>
                    <!--Basic-->
                    <cs-field data-ng-model="Payment.FixpayBasic"
                              data-ng-required="selectedHierarchy.HasFixed"
                              data-ng-change="TotalPayment(Payment.FixpayBasic,Payment.FixpayHra,Payment.FixpayOther)"
                              field="paymentModel.FixpayBasic">
                    </cs-field>
                    <!--HRA-->
                    <div data-ng-show="selectedHierarchy.HasFixedIndividual || true">
                        <cs-field data-ng-model="Payment.FixpayHra"
                                  data-ng-required="selectedHierarchy.HasFixedIndividual"
                                  data-ng-change="TotalPayment(Payment.FixpayBasic,Payment.FixpayHra,Payment.FixpayOther)"
                                  field="paymentModel.FixpayHra"></cs-field>
                    </div>
                </div>

                <div class="clearfix"></div>

                <div data-ng-if="selectedHierarchy.HasFixedIndividual  ">
                    <cs-field field="paymentModel.FixpayOther"
                              data-ng-required="selectedHierarchy.HasFixedIndividual"
                              data-ng-change="TotalPayment(Payment.FixpayBasic,Payment.FixpayHra,Payment.FixpayOther)"
                              data-ng-model="Payment.FixpayOther">
                    </cs-field>
                </div>

                <div class="clearfix"></div>

                <div data-ng-show="selectedHierarchy.HasFixedIndividual || true">
                    <table class="table table-bordered table-hover" data-ng-show="Payment.FixpayBasic">
                        <thead>
                            <tr>
                                <th data-ng-show="Payment.FixpayBasic">Basic</th>
                                <th data-ng-show="Payment.FixpayHra && Payment.FixpayOther">Allowances</th>
                                <th data-ng-show="Payment.FixpayBasic">Employee PF</th>
                                <th data-ng-show="Payment.FixpayBasic">Employer PF</th>
                                <th>Employee ESIC</th>
                                <th>Employer ESIC</th>
                                <th>Service Charge</th>
                                <th>Service Tax</th>
                                <th>Gross Pay</th>
                            </tr>
                            <tr>
                                <th data-ng-show="Payment.FixpayBasic"></th>
                                <th data-ng-show="Payment.FixpayHra && Payment.FixpayOther">HRA + Other</th>
                                <th data-ng-show="Payment.FixpayBasic">Basic * {{FixedPay.EmployeePF}}%</th>
                                <th data-ng-show="Payment.FixpayBasic">Basic * {{FixedPay.EmployerPF}}%</th>
                                <th>Gross Salary * {{FixedPay.EmployeeESIC}}%</th>
                                <th>Gross Salary * {{FixedPay.EmployerESIC}}% </th>
                                <th>Basic * {{FixedPay.ServiceCharge}}%</th>
                                <th>Basic * {{FixedPay.ServiceTax}}% </th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td data-ng-show="Payment.FixpayBasic">{{Payment.FixpayBasic}}</td>
                                <td data-ng-show="Payment.FixpayBasic">{{SalDetails.totalNotEsic}}</td>
                                <td data-ng-show="Payment.FixpayHra && Payment.FixpayOther">{{Payment.FixpayHra + Payment.FixpayOther}} </td>
                                <td data-ng-show="Payment.FixpayBasic">{{(SalDetails.pf*1)}}</td>
                                <td data-ng-show="Payment.FixpayBasic">{{(SalDetails.employerPf*1)}}</td>
                                <td>{{SalDetails.esicEmployee}}</td>
                                <td>{{SalDetails.esicEmployer}}</td>
                                <td>{{SalDetails.ServiceCharge}}</td>
                                <td>{{SalDetails.serviceTax}}</td>
                                <td>{{SalDetails.total}}</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <div class="clearfix"></div>

                <div data-ng-show="selectedHierarchy.HasMobileTravel || true">
                    <h5 class="modal-header"><b>Reimbursement elgibility</b></h5>
                    <cs-field data-ng-required="selectedHierarchy.HasMobileTravel"
                              data-ng-model="Payment.MobileElig"
                              field="paymentModel.MobileElig"></cs-field>
                    <cs-field data-ng-required="selectedHierarchy.HasMobileTravel"
                              data-ng-model="Payment.TravelElig"
                              field="paymentModel.TravelElig"></cs-field>
                </div>


                <div class="clearfix"></div>

                <div data-ng-show="selectedHierarchy.HasServiceCharge || true">
                    <h5 class="modal-header"><b>Other Charges</b></h5>
                    <cs-field data-ng-required="selectedHierarchy.HasServiceCharge"
                              data-ng-model="Payment.ServiceCharge"
                              field="paymentModel.ServiceCharge">
                    </cs-field>
                </div>
                <cs-button type="save"
                           permission="Stakeholder,Stakeholder,AddEdit"
                           data-ng-click="savePayment(Payment)">
                </cs-button>
            </form>
        </cs-form>
    </div>
</div>



<!-- <cs-field field="workingModel.LocationLevel"
                               data-ng-model="Working.LocationLevel"></cs-field>

                    <cs-field field="workingModel.Country"
                              data-ng-model="Working.Country"></cs-field>-->




<!-- <cs-field field="workingModel.StartDate"
                               data-ng-model="Working.StartDate"></cs-field>

                    <cs-field field="workingModel.EndDate"
                              data-ng-model="Working.EndDate"></cs-field>

                    <cs-field field="workingModel.BucketStart"
                              data-ng-model="Working.BucketStart"></cs-field>

                    <cs-field field="workingModel.BucketEnd"
                              data-ng-model="Working.BucketEnd"></cs-field>-->



<!--<cs-field field="paymentModel.Products"
                          data-ng-model="Payment.Products"></cs-field>
                <cs-field field="paymentModel.BankAccNo"
                          data-ng-model="Payment.BankAccNo"></cs-field>
                <cs-field field="paymentModel.BankAccName"
                          data-ng-model="Payment.BankAccName"></cs-field>
                <cs-field field="paymentModel.BankIfscCode"
                          data-ng-model="Payment.BankIfscCode"></cs-field>
                <cs-field field="paymentModel.FixpayTotal"
                          data-ng-model="Payment.FixpayTotal"></cs-field>
                <cs-field field="paymentModel.StartDate"
                          data-ng-model="Payment.StartDate"></cs-field>
                <cs-field field="paymentModel.EndDate"
                          data-ng-model="Payment.EndDate"></cs-field>-->
