<div class="container-fluid ng-cloak">
    <form name="MyForm" class="form-horizontal" data-ng-init="step=1" novalidate>
        <div class="panel panel-info">
            <div class="panel-heading">Add Hierarchy</div>

            <div class="panel-body">
                <!--Add Hierarchy Page 1-->
                <div data-ng-form="step1form" data-ng-show="step==1">

                    <cs-form layout="7.3.8">

                        <!--Designation-->
                            <cs-field data-ng-model="stakeholder.designation" field="stakeholderfield.designation"></cs-field>

                        <!--Hierarchy-->
                            <cs-field data-ng-model="stakeholder.Hierarchy" field="stakeholderfield.Hierarchy"
                                      data-ng-change="factoryMethods.reloadReportsTo(stakeholder,dldata);hierarchyChange()" value-list="dldata.HierarchyData"></cs-field>

                        <!--Reports To-->
                            <cs-field data-ng-model="stakeholder.ReportsTo" field="stakeholderfield.ReportsTo"
                                      value-list="dldata.Designation" data-ng-change="reportsChange()"></cs-field>
                        <span class="col-md-5">
                            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Reports to Designation of {{stakeholder.Hierarchy}} Hierarchy</span>
                        </span>

                        <!--Reporting Level-->
                            <cs-field data-ng-model="stakeholder.ReportingLevel" field="stakeholderfield.ReportingLevel"
                                      value-list="dldata.ReportingLevelEnum" data-ng-change="reportinglevelChange()"></cs-field>

                        <!--Working Reports To-->
                            <cs-field data-ng-model="stakeholder.WorkingReportsTo" field="stakeholderfield.WorkingReportsTo"
                                      value-list="dldata.Designation" data-ng-change="workingReportsChange()"></cs-field>
                        <span class="col-md-5">
                            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Reports to Designation of {{stakeholder.Hierarchy}} Hierarchy</span>
                        </span>

                        <!--WorkingReports Level-->
                            <cs-field data-ng-model="stakeholder.WorkingReportsLevel" field="stakeholderfield.WorkingReportsLevel"
                                      value-list="dldata.ReportingLevelEnum"></cs-field>

                        <!--Location Level-->
                            <cs-field data-ng-model="stakeholder.LocationLevel" field="stakeholderfield.LocationLevel"
                                      value-list="dldata.LocationlevelList" multiple="multiple"></cs-field>
                    </cs-form>
                </div>

                <!--Add Hierarchy Page 2-->
                <div data-ng-form="step2form" data-ng-show="step==2">

                    <cs-form layout="7.4.8">
                    <!--IsUser-->
                    <div>
                        <cs-field data-ng-model="stakeholder.IsUser" field="stakeholderfield.IsUser"></cs-field>
                        <span class="col-md-5">
                            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} is user of Algosys or not</span>
                        </span>
                    </div>
                    <!--IsIndividual-->
                    <div>
                        <cs-field data-ng-model="stakeholder.Individual" field="stakeholderfield.IsIndividual"
                                  data-ng-change="stakeholder.IsEmployee=false"></cs-field>
                        <span class="col-md-5">
                            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} is an Individual or any Organization </span>
                        </span>
                    </div>
               

                <!--Registration-->
                <div data-ng-show="!stakeholder.Individual">
                    <cs-field data-ng-model="stakeholder.HasRegistration" field="stakeholderfield.HasRegistration"></cs-field>
                    <span class="col-md-5">
                        <span style="color: gray; padding-left: 10px">Is {{stakeholder.designation}} needs Registration</span>
                    </span>
                </div>
           
            <!--IsEmployee-->
            <div data-ng-show="stakeholder.Individual">
                <cs-field data-ng-model="stakeholder.IsEmployee" field="stakeholderfield.IsEmployee"></cs-field>
                <span class="col-md-5">
                    <span style="color: gray; padding-left: 10px">Is {{stakeholder.designation}} Employee of Algosys</span>
                </span>
            </div>

            <!--Is Highest Level designation-->
            <cs-field data-ng-model="stakeholder.ManageReportsTo" field="stakeholderfield.ManageReportsTo"></cs-field>
            <span class="col-md-5">
                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} having any highest level designation</span>
            </span>



            <!--Has Address-->
            <cs-field data-ng-model="stakeholder.HasAddress" field="stakeholderfield.HasAddress"></cs-field>
            <span class="col-md-5">
                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} has address </span>
            </span>

            <!--Has multiple Address-->
            <div data-ng-show="stakeholder.HasAddress">
                <cs-field data-ng-model="stakeholder.HasMultipleAddress" field="stakeholderfield.HasMultipleAddress"
                    data-ng-disabled="true"></cs-field>
            </div>
            </cs-form>
                </div>


                <!--Add Hierarchy Page 3-->
                <div data-ng-form="step3form" data-ng-show="step==3">

                    <cs-form layout="7.4.8">
                        <!--Has Working-->
                                <cs-field data-ng-model="stakeholder.HasWorking" field="stakeholderfield.HasWorking"
                                    data-ng-change="ResetBtnValue()"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} has working</span>
                            </span>

                        <!--Has Bucket-->
                        <div data-ng-show="stakeholder.HasWorking">
                                <cs-field data-ng-model="stakeholder.HasBuckets" field="stakeholderfield.HasBuckets"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} has Buckets</span>
                            </span>
                        </div>

                        <!--Is in Allocation-->
                        <div data-ng-show="stakeholder.HasWorking">
                                <cs-field data-ng-model="stakeholder.IsInAllocation" field="stakeholderfield.IsInAllocation"
                                    data-ng-change="stakeholder.IsInField=false"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} is in allocation</span>
                            </span>
                        </div>

                        <!--Is in field-->
                        <div data-ng-show="stakeholder.IsInAllocation">
                         <cs-field data-ng-model="stakeholder.IsInField" field="stakeholderfield.IsInField"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} is in field</span>
                            </span>
                        </div>
                    </cs-form>
                </div>

                <!--Add Hierarchy Page 4-->
                <div data-ng-form="step4form" data-ng-show="step==4">

                    <cs-form layout="7.4.8">
                        <!--Has payment-->
                                <cs-field data-ng-model="stakeholder.HasPayment" field="stakeholderfield.HasPayment"
                                    data-ng-change="factoryMethod.resetPaymentChlidVal()"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} has Payment</span>
                            </span>

                        <!--Has Bank Details-->
                        <div data-ng-show="stakeholder.HasPayment">
                                <cs-field data-ng-model="stakeholder.HasBankDetails" field="stakeholderfield.HasBankDetails"
                                    data-ng-change="factoryMethod.resetPaymentChlidVal()"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Bank Details</span>
                            </span>
                        </div>

                        <!--Has mobile Travel-->
                        <div data-ng-show="stakeholder.HasPayment">
                                <cs-field data-ng-model="stakeholder.HasMobileTravel" field="stakeholderfield.HasMobileTravel"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Mobile Travel</span>
                            </span>
                        </div>

                        <!--Has variable-->
                        <div data-ng-show="stakeholder.HasPayment">
                                <cs-field data-ng-model="stakeholder.HasVarible" field="stakeholderfield.HasVarible"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Variable</span>
                            </span>
                        </div>

                        <!--Has fixed-->
                        <div data-ng-show="stakeholder.HasPayment">
                                <cs-field data-ng-model="stakeholder.HasFixed" field="stakeholderfield.HasFixed"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Fixed</span>
                            </span>
                        </div>

                        <!--Has fixed Individual-->
                        <div data-ng-show="stakeholder.HasFixed">
                                <cs-field data-ng-model="stakeholder.HasFixedIndividual" field="stakeholderfield.HasFixedIndividual"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Fixed Individual</span>
                            </span>
                        </div>

                        <!--Has service charge-->
                        <div data-ng-show="stakeholder.HasPayment">
                                <cs-field data-ng-model="stakeholder.HasServiceCharge" field="stakeholderfield.HasServiceCharge"></cs-field>
                            <span class="col-md-5">
                                <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Service Charge </span>
                            </span>
                        </div>
                    </cs-form>
                </div>
            </div>

            <div class="panel-footer text-right">
                <input type="submit" value="Back" data-ng-model="back" class="btn btn-inverse" data-ng-disabled="step==1" data-ng-click="step=step-1" />
                <input type="submit" value="Next" class="btn btn-success" data-ng-disabled="step1form.$invalid || step==4" data-ng-click="step=step+1" />
                <input type="submit" value="Save" class="btn btn-success" data-ng-click="save(stakeholder)" data-ng-disabled="step1form.$invalid || step!=4" data-ng-show="step==4" />
                <input type="submit" value="Cancel" class="btn btn-warning" data-ng-click="closeform()" />
            </div>
        </div>
    </form>
</div>



<!--<div class="form-group">
        <label class="control-label">Designation : </label>
        <div class="controls">
            <input name="designation" type="text" data-ng-model="stakeholder.designation" data-ng-maxlength="20"
                   data-ng-minlength="2" data-ng-pattern="/^[a-zA-Z]+$/" data-ng-required="true" />
            <div class="field-validation-error" data-ng-show="step1form.designation.$error.maxlength">{{val.MaxLength(20)}}</div>
            <div class="field-validation-error" data-ng-show="step1form.designation.$error.minlength">{{val.MinLength(2)}}</div>
            <div class="field-validation-error" data-ng-show="step1form.designation.$error.pattern">{{val.OnlyText()}}</div>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Hierarchy : </label>
        <div class="controls">
            <select class="input-large" data-ng-model="stakeholder.Hierarchy" data-ng-required="true"
                    data-ng-change="reloadReportsTo()">
                <option value=""></option>
                <option data-ng-repeat="data in dldata.HierarchyList|unique:'Hierarchy'">{{data.Hierarchy}}</option>
            </select>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">ReportsTo :</label>
        <div class="controls">
            <select class="input-large" data-ng-required="true"
                    data-ng-model="stakeholder.ReportsTo">
                <option value=""></option>
                <option data-ng-repeat="data in dldata.HierarchyList | filter : {'Hierarchy' : stakeholder.Hierarchy } | orderBy: 'PositionLevel'"
                        value="{{data.Id}}">{{factoryMethods.DesignationName(data)}}</option>
            </select>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Reports to Designation of {{stakeholder.Hierarchy}} Hierarchy</span>
        </div>
    </div>-->
<!-- <div class="form-group">
         <label class="control-label">Reporting Level :</label>
         <div class="controls">
             <select class="input-large" data-ng-required="true" data-ng-model="stakeholder.ReportingLevel">
                 <option value=""></option>
                 <option data-ng-repeat="data in dldata.ReportingLevelEnum">{{data}}</option>
             </select>
         </div>
     </div>-->
<!--<div class="form-group">
        <label class="control-label">Working Reports To :</label>
        <div class="controls">
            <select class="input-large" data-ng-required="true"
                    data-ng-model="stakeholder.WorkingReportsTo">
                <option value=""></option>
                <option data-ng-repeat="data in dldata.HierarchyList | filter : {'Hierarchy' : stakeholder.Hierarchy } | orderBy: 'PositionLevel'"
                        value="{{data.Id}}">{{factoryMethods.DesignationName(data)}}</option>
            </select>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Reports to Designation of {{stakeholder.Hierarchy}} Hierarchy</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Working Reports Level :</label>
        <div class="controls">
            <select class="input-large" data-ng-required="true" data-ng-model="stakeholder.WorkingReportsLevel">
                <option value=""></option>
                <option data-ng-repeat="data in dldata.ReportingLevelEnum">{{data}}</option>
            </select>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Location Level : </label>
        <div class="controls">
            <select class="input-large" multiple="multiple" data-ng-required="true"
                    data-ng-model="stakeholder.LocationLevel">
                <option value=""></option>
                <option data-ng-repeat="data in dldata.LocationlevelList" value="{{data.value}}">{{data.key}}</option>
            </select>
            <span class="help-block">Can Select Multiple options using Ctrl +</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Is User : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.IsUser"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} is user of Algosys or not</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Is Individual : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.Individual" data-ng-change="stakeholder.IsEmployee=false"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} is an Individual or any Organization </span>
        </div>
    </div>-->
<!-- <div class="form-group">
         <label class="control-label">Registration : </label>
         <div class="controls">
             <div btn-switch data-ng-model="stakeholder.HasRegistration"></div>
             <span style="color: gray; padding-left: 10px">Is {{stakeholder.designation}} needs Registration</span>
         </div>
     </div>-->
<!--<div class="form-group">
        <label class="control-label">Is Employee : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.IsEmployee"></div>
            <span style="color: gray; padding-left: 10px">Is {{stakeholder.designation}} Employee of Algosys</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Is Highest Level Designation : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.ManageReportsTo"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} having any highest level designation</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Has Address : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.HasAddress"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} has address </span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Has Multiple Address : </label>
        <div class="controls">
            <input type="button" value="No" class="btn btn-default" data-ng-disabled="true" />
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Has Working : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.HasWorking" data-ng-change="ResetBtnValue()"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} has working</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Has Buckets : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.HasBuckets"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} has Buckets</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Is In Allocation : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.IsInAllocation" data-ng-change="stakeholder.IsInField=false"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} is in allocation</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Is In Field : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.IsInField"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} is in field</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Has Payment : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.HasPayment" data-ng-change="factoryMethod.resetPaymentChlidVal()"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} has Payment</span>
        </div>
    </div>-->
<!-- <div class="form-group">
         <label class="control-label">Has Bank Details : </label>
         <div class="controls">
             <div btn-switch data-ng-model="stakeholder.HasBankDetails"></div>
             <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Bank Details</span>
         </div>
     </div>-->
<!--<div class="form-group">
        <label class="control-label">Has Mobile Travel : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.HasMobileTravel"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Mobile Travel</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Has Variable : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.HasVariable"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Variable</span>
        </div>
    </div>-->
<!--<div class="form-group">
        <label class="control-label">Has Fixed : </label>
        <div class="controls">
            <div btn-switch data-ng-model="stakeholder.HasFixed" data-ng-change="stakeholder.HasFixedIndividual=false"></div>
            <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Fixed</span>
        </div>
    </div>-->
<!-- <div class="form-group">
         <label class="control-label">Has Fixed Individual : </label>
         <div class="controls">
             <div btn-switch data-ng-model="stakeholder.HasFixedIndividual"></div>
             <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Fixed Individual</span>
         </div>
     </div>-->
<!-- <div class="form-group">
         <label class="control-label">Has Service Charge : </label>
         <div class="controls">
             <div btn-switch data-ng-model="stakeholder.HasServiceCharge"></div>
             <span style="color: gray; padding-left: 10px">{{stakeholder.designation}} Has Service Charge </span>
         </div>
     </div>-->
