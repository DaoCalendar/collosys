<div class="form-horizontal">
    <div class="panel">
        <div class="panel-heading">Permissions {{perm.hierarchy}}</div>
        <div class="row-fluid">
            <div class="control-group span5">
                <div class="control-label">Hierarchy</div>
                <div class="controls">
                    <select data-ui-select2="" class="input-medium" data-ng-model="perm.hierarchy">
                        <option value=""></option>
                        <option data-ng-repeat="data in dldata.stakeHierarchy|unique : 'Hierarchy'" value="{{data.Hierarchy}}">{{data.Hierarchy}}</option>
                    </select>
                </div>
            </div>
            <div data-ng-show="perm.hierarchy" class="control-group span5">
                <div class="control-label">Designation</div>
                <div class="controls">
                    <select data-ui-select2="" data-ng-change="datalayer.GetPermission(perm.designation)" class="input-medium" data-ng-model="perm.designation">
                        <option value=""></option>
                        <option data-ng-repeat="data in dldata.stakeHierarchy|
                        filter : {'Hierarchy' : perm.hierarchy  } | orderBy: 'PositionLevel'"
                            value="{{data.Id}}">{{data.Designation}}</option>
                    </select>
                </div>
            </div>

        </div>
    </div>
    <div data-ng-show="perm.designation">
        <div data-ng-repeat="data in dldata.permission">
            <div class="panel row-fluid">
                <div class="panel-heading">{{data.area}}</div>
                <div data-ng-repeat="perm in data.permissions">
                    <div class="span5">
                        <input data-ng-model="perm.permission.access" data-ng-click="uncheckExtraPerm(perm.permission.access,perm.extrapermission)" type="checkbox">
                        {{perm.permission.display}}
                        <div>
                            <p><sub>{{perm.permission.desc}}</sub></p>
                        </div>
                    </div>
                    <div data-ng-show="perm.permission.access" data-ng-repeat="dt in perm.extrapermission">
                        <div class="span5">
                            <input data-ng-model="dt.access" type="checkbox">
                            {{dt.display}}
                            <div>
                                <p><sub>{{dt.desc}}</sub></p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="text-right">
            <button data-ng-click="datalayer.saveNew(dldata.permission)" class="btn btn-success ">Save</button>
        </div>
    </div>
</div>
