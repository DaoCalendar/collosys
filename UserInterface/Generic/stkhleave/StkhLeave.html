
<form name="stkhleaveform">
    <div data-ng-controller="StkhLeaveManagementCtrl">
        <cs-form layout="6.4.8">
            <div>
                <table class="table table-bordered table-hover table-striped">
                    <thead>
                        <tr>
                            <td class="col-md-3">LeaveFrom</td>
                            <td class ="col-md-3">LeaveTo</td>
                            <td class="col-md-3">DelegatedTo</td>
                            <td class="col-md-2"></td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-ng-repeat="leave in stkhleaveList">
                            <td>{{leave.FromDate | date}}</td>
                            <td>{{leave.ToDate | date}}</td>
                            <td>{{leave.DelegatedTo.Name}}</td>
                            <td><cs-button2 type="cancel" data-ng-show="leaveStatus(leave)" permission="all" 
                                            on-click="cancelLeave(leave)" text="Cancel Delegation"></cs-button2>
                                <cs-button2 type="cancel" data-ng-show="updateLeave(leave)" permission="all"
                                            on-click="endLeave(leave)" text="End Delegation"></cs-button2></td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div ng-show="showAddButton">
                <cs-button2 type="add" text="Add Leave" permission="all" on-click="leave()"></cs-button2>
            </div>
                
            <div ng-hide="showAddButton">
                <div class="panel panel-default">
                    <div class="panel-heading">Leave Details</div>
                    <div class="panel-body">
                        <cs-field field="stkhleavemodel.FromDate" data-ng-model="StkhLeave.FromDate" ng-change="StkhLeave.ToDate===null" ng-required="true"></cs-field>
                        <cs-field field="stkhleavemodel.ToDate" data-ng-model="StkhLeave.ToDate" ng-change="isDateValid(StkhLeave)" ng-required="true"></cs-field>
                        <cs-field field="stkhleavemodel.DelegatedTo" data-ng-model="StkhLeave.DelegatedTo" ng-required="true"></cs-field>
                    </div>
                    <div class="text-right">
                        <cs-button2 type="save" permission="all" on-click="save(StkhLeave)"></cs-button2>
                        <cs-button2 type="cancel" permission="all" on-click="cancel()"></cs-button2>
                    </div>
                </div>
            </div>
        </cs-form>
    </div>
</form>