<div data-ng-form="allocPolicyForm">
    <cs-form layout="5.4.8">
        <cs-field data-ng-model="policyDTO.Product" field="allocpolicy.Product"
                  data-ng-change="getSubpolicyList(policyDTO)" ng-required="true"></cs-field>
    </cs-form>

    <div class="col-md-9" data-ng-show="config.lhsValueList.length > 0 || config.rhsValueList.length > 0 ">
        <cs-dual-list config="config" selected="selected"
            on-click="displaySubpolicyDetails()"
            on-move="moveSubpolicy()"></cs-dual-list>
    </div>
    <div class="clearfix"></div>
    <div class="row">
        <div class="col-md-9">
            <div class="panel panel-default" data-ng-show="selected.selectedItem.SubpolicyId">
                <div class="panel-heading">
                    <div class="row">
                        <div class="col-md-8">{{selected.selectedItem.Name}}</div>
                        <div class="col-md-3">
                            <cs-button type="cancel" text="Deactivate"
                                permission="Allocation,AllocationPolicy,AddEdit"
                                data-ng-show="selected.selectedItem.SubpolicyType == 'Active'"
                                data-ng-click="openModelforSubPolicy('Expire');"></cs-button>
                            <cs-button type="ok" text="Activate"
                                permission="Allocation,AllocationPolicy,AddEdit"
                                data-ng-show="selected.selectedItem.SubpolicyType =='Draft'"
                                data-ng-click="openModelforSubPolicy('Activate');"></cs-button>
                            <cs-button type="ok" text="Reactivate"
                                permission="Allocation,AllocationPolicy,AddEdit"
                                data-ng-show="selected.selectedItem.SubpolicyType =='Expired'"
                                data-ng-click="openModelforSubPolicy('Reactivate');"></cs-button>
                            <cs-button type="ok" text="Approve"
                                permission="Allocation,AllocationPolicy,Approve"
                                data-ng-show="selected.selectedItem.SubpolicyType =='Unapproved'"
                                data-ng-click="approveORreject('Approve')"></cs-button>
                            <cs-button type="cancel" text="Reject"
                                permission="Allocation,AllocationPolicy,Approve"
                                data-ng-show="selected.selectedItem.SubpolicyType =='Unapproved'"
                                data-ng-click="approveORreject('Reject')"></cs-button>
                        </div>
                    </div>
                </div>
                <div class="panel-body">
                    <cs-form layout="6.4.8">
                        <div data-ng-show="selected.selectedItem.AllocateType==='AllocateToStkholder'">
                            <cs-field field="allocpolicy.stakeholder" data-ng-model="selected.selectedItem.Stakeholder" ng-disabled="true"></cs-field>
                        </div>
                        <div data-ng-show="selected.selectedItem.AllocateType==='DoNotAllocate'">
                            <cs-field field="allocpolicy.reason" data-ng-model="selected.selectedItem.ReasonNotAllocate" ng-disabled="true"></cs-field>
                        </div>
                        <div data-ng-show="selected.selectedItem.SubpolicyType !== 'Draft'">
                            <cs-field field="allocpolicy.StartDateText" ng-disabled="true"
                                      ng-model="selected.selectedItem.StartDate"></cs-field>
                            <cs-field field="allocpolicy.EndDateText" ng-disabled="true"
                                      ng-model="selected.selectedItem.EndDate"></cs-field>
                        </div>
                        <cs-field field="allocpolicy.condition" data-ng-model="displayCondition" ng-disabled="true"></cs-field>
                    </cs-form>
                </div>
            </div>

        </div>
    </div>
</div>
