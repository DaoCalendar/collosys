
<style>
    .tabhight {
        height: inherit;
        overflow: auto;
        text-align: right;
    }
</style>

<tabset style="height: 400px;">
    <tab data-ng-hide="angular.isUndefined(gridOptions.Reporting.ScreenName) || gridOptions.Reporting.ScreenName == 'NotSpecified'">
        <tab-heading>Save Report</tab-heading>
        <div class="form-horizontal container" style="height:400px;">
            <div class="control-group">
                <div class="control-label">Report Name</div>
                <div class="controls">
                    <input type="text" name="ReportName" data-ng-model="gridOptions.Reporting.Params.ReportName"
                           data-ng-disabled="gridOptions.Reporting.isEditMode"
                           data-ng-required="true" data-ng-minlength="6" data-ng-maxlength="100" data-ng-pattern="/[A-Za-z0-9 ]+/" />
                </div>
                <div data-ng-show="gridSaveAsReportForm.ReportName.$invalid">
                    <span data-ng-show="gridSaveAsReportForm.ReportName.$error.minlength">ReportName must have min 6 characters</span>
                    <span data-ng-show="gridSaveAsReportForm.ReportName.$error.maxlength">ReportName can have max 100 characters</span>
                    <span data-ng-show="gridSaveAsReportForm.ReportName.$error.pattern">ReportName must not have special characters</span>
                </div>
            </div>
            <div class="control-group row-fluid">
                <div class="control-label">Description</div>
                <div class="controls">
                    <textarea rows="2" cols="50" name="Description" data-ng-model="gridOptions.Reporting.Params.Description"
                              data-ng-required="true" data-ng-minlength="6" data-ng-maxlength="250"></textarea>
                </div>
                <div data-ng-show="gridSaveAsReportForm.Description.$invalid">
                    <span data-ng-show="gridSaveAsReportForm.Description.$error.minlength">ReportName must have min 6 characters</span>
                    <span data-ng-show="gridSaveAsReportForm.Description.$error.maxlength">ReportName can have max 250 characters</span>
                </div>
            </div>
            <div class="row-fluid control-group">
                <div class="control-label">Email Report</div>
                <div class="controls">
                    <input type="checkbox" name="DoEmailReport" data-ng-model="gridOptions.Reporting.Params.DoEmailReport" />
                </div>
            </div>
            <div class="row-fluid control-group" data-ui-if="gridOptions.Reporting.Params.DoEmailReport">
                <div class="control-label">Email Frequency</div>
                <div class="controls">
                    <select class="input-large" data-ui-select2="" name="Frequency"
                            data-ng-model="gridOptions.Reporting.Params.Frequency"
                            data-ng-required="gridOptions.Reporting.Params.DoEmailReport === true">
                        <option value=""></option>
                        <option data-ng-repeat="fr in $grid.consts.EmailFrequency.list" value="{{fr}}">{{fr}}</option>
                    </select>
                </div>
            </div>
            <div data-ui-if="gridOptions.Reporting.Params.DoEmailReport" data-ng-show="gridOptions.Reporting.Params.Frequency">
                <div data-ui-if="gridOptions.Reporting.Params.Frequency === $grid.consts.EmailFrequency.value.Daily"
                     class="row-fluid control-group">
                    <div class="control-label">Which Hour of Day</div>
                    <div class="controls">
                        <select class="input-large" name="FrequencyParam" data-ui-select2=""
                                data-ng-model="gridOptions.Reporting.Params.FrequencyParam"
                                data-ng-required="gridOptions.Reporting.Params.Frequency === $grid.consts.EmailFrequency.value.Daily">
                            <option value=""></option>
                            <option value="9">At 8 AM</option>
                            <option value="12">At 12 AM</option>
                            <option value="16">At 6 PM</option>
                            <option value="24">At EOD</option>
                        </select>
                    </div>
                </div>
                <div data-ui-if="gridOptions.Reporting.Params.Frequency === $grid.consts.EmailFrequency.value.Weekly"
                     class="row-fluid control-group">
                    <div class="control-label">Which Day of Week</div>
                    <div class="controls">
                        <select class="input-large" name="FrequencyParam" data-ui-select2=""
                                data-ng-model="gridOptions.Reporting.Params.FrequencyParam"
                                data-ng-required="gridOptions.Reporting.Params.Frequency === $grid.consts.EmailFrequency.value.Weekly">
                            <option value=""></option>
                            <option data-ng-repeat="day in $grid.consts.DaysOfWeek.list" value="{{day}}">{{day}}</option>
                        </select>
                    </div>
                </div>
                <div data-ui-if="gridOptions.Reporting.Params.Frequency === $grid.consts.EmailFrequency.value.Monthly"
                     class="row-fluid control-group">
                    <div class="control-label">Which Day of Month</div>
                    <div class="controls">
                        <select class="input-large" name="FrequencyParam" data-ui-select2=""
                                data-ng-model="gridOptions.Reporting.Params.FrequencyParam"
                                data-ng-required="gridOptions.Reporting.Params.Frequency === $grid.consts.EmailFrequency.value.Monthly">
                            <option value=""></option>
                            <option value="1">1</option>
                            <option value="5">5</option>
                            <option value="10">10</option>
                            <option value="15">15</option>
                            <option value="20">20</option>
                            <option value="25">25</option>
                            <option value="31">last day</option>
                        </select>
                    </div>
                </div>
            </div>
            <div class="row-fluid control-group" data-ui-if="gridOptions.Reporting.Params.FrequencyParam">
                <div class="control-label">Use both field & display name as excel headers</div>
                <div class="controls">
                    <input type="checkbox" name="UseFieldName4Header" data-ng-model="gridOptions.Reporting.Params.UseFieldName4Header"
                           data-ng-required="gridOptions.Reporting.Params.DoEmailReport === true" />
                </div>
            </div>
            <div class="row-fluid control-group" data-ui-if="gridOptions.Reporting.Params.FrequencyParam">
                <div class="control-label">Send Only If Data</div>
                <div class="controls">
                    <input type="checkbox" name="sendMailForNoData" data-ng-model="gridOptions.Reporting.Params.SendOnlyIfData"
                           data-ng-required="gridOptions.Reporting.Params.DoEmailReport === true" />
                </div>
            </div>
            <div class="row-fluid control-group" data-ui-if="gridOptions.Reporting.Params.FrequencyParam">
                <div class="control-label">Send Mail to Multiple</div>
                <div class="controls">
                    <input type="checkbox" name="sendMailtoGroup" data-ng-model="gridOptions.Reporting.Params.Send2Hierarchy"
                           data-ng-required="gridOptions.Reporting.Params.DoEmailReport === true" data-ng-click="$grid.ShowStakeholder(gridOptions)" />
                    <span data-ng-show=" gridOptions.totalSelectedStake">Total Selected :{{gridOptions.SelectedStakeholderIds.length}}</span>
                </div>
            </div>
            <div class="row-fluid control-group" data-ui-if="gridOptions.Reporting.Params.Send2Hierarchy">
                <button class="btn btn-link" data-ng-click="$grid.ShowStakeholder(gridOptions)">Add More Stakeholders</button>
            </div>
            <div class="text-center row-fluid">
                <div data-ng-hide="gridOptions.Reporting.isEditMode">
                    <input type="button" class="btn btn-success" value="Create Report"
                           data-ng-disabled="gridSaveAsReportForm.$invalid"
                           data-ng-click="$grid.RepotingHelper.SaveAsReport(gridOptions)" />
                    <input type="button" class="btn btn-warning" value="Close"
                           data-ng-click="close()" />
                </div>
                <div data-ng-show="gridOptions.Reporting.isEditMode">
                    <input type="button" class="btn btn-success" value="Update Report"
                           data-ng-disabled="gridSaveAsReportForm.$invalid"
                           data-ng-click="$grid.RepotingHelper.SaveAsReport(gridOptions)" />
                    <input type="button" class="btn btn-danger" value="Delete Report"
                           data-ng-click="$grid.RepotingHelper.DeleteReport(gridOptions)" />
                    <input type="button" class="btn btn-link" value="Clone Report"
                           data-ng-click="$grid.RepotingHelper.CloneReport(gridOptions)" />
                    <input type="button" class="btn btn-warning" value="Close"
                           data-ng-click="close()" />
                </div>
            </div>
        </div>
    </tab>
    <tab>
        <tab-heading>Reset Settings</tab-heading>
        <div class="form-horizontal">
            <div class=" control-group">
                <div class="control-label">Filters</div>
                <div class="controls">
                    <input type="checkbox" data-ng-model="gridOptions.ResetSetting.doResetFilter" />
                </div>
            </div>
            <div class="row-fluid control-group">
                <div class="control-label">Renames</div>
                <div class="controls">
                    <input type="checkbox" data-ng-model="gridOptions.ResetSetting.doResetRenames" />
                </div>
            </div>
            <div class="row-fluid control-group">
                <div class="control-label">Sorting</div>
                <div class="controls">
                    <input type="checkbox" data-ng-model="gridOptions.ResetSetting.doResetSorting" />
                </div>
            </div>
            <div class="row-fluid control-group">
                <div class="control-label">Postion-Changes</div>
                <div class="controls">
                    <input type="checkbox" data-ng-model="gridOptions.ResetSetting.doResetPosition" />
                </div>
            </div>
            <div class="row-fluid control-group">
                <div class="control-label">Freeze</div>
                <div class="controls">
                    <input type="checkbox" data-ng-model="gridOptions.ResetSetting.doResetFreeze" />
                </div>
            </div>
            <div class="row-fluid control-group">
                <div class="control-label">Column-Display</div>
                <div class="controls">
                    <input type="checkbox" data-ng-model="gridOptions.ResetSetting.doResetVisibility" />
                </div>
            </div>
            <div class="text-center">
                <hr />
                <input type="button" class="btn" value="Reset Selected" data-ng-click="$grid.ResetHelper.ResetSelected(gridOptions)" />
                <input type="button" class="btn" value="Reset All" data-ng-click="$grid.ResetHelper.ResetAll(gridOptions)" />
                <input type="button" class="btn" value="Close" data-ng-click="close()" />
                <hr />
            </div>
        </div>
    </tab>
    <tab>
        <tab-heading>Freeze Columns</tab-heading>
        <div class="form-horizontal">
            <div class="tabhight">
                <table>
                    <tr data-ng-repeat="col in gridOptions.$gridScope.columns | minLength:'field':2">
                        <td>{{col.displayName}}</td>
                        <td><a class="btn btn-link" data-ng-hide="col.pinned" data-ng-click="$grid.freezeColumn(gridOptions, col)">Freeze</a></td>
                        <td><a class="btn btn-link" data-ng-show="col.pinned" data-ng-click="$grid.freezeColumn(gridOptions, col)">Unfreeze</a></td>
                    </tr>
                </table>
            </div>
            <div class="text-center">
                <hr />
                <input type="button" class="btn" value="Close" data-ng-click="close()" />
                <hr />
            </div>
        </div>
    </tab>
    <tab>
        <tab-heading>Show/Hide Columns</tab-heading>
        <div class="form-horizontal">
            <div class="tabhight">
                <table>
                    <tr data-ng-repeat="col in gridOptions.$gridScope.columns | minLength:'field':2">
                        <td>{{col.displayName}}</td>
                        <td><a class="btn btn-link" data-ng-disabled="col.pinned" data-ng-hide="col.visible" data-ng-click="$grid.showHideColumn(gridOptions, col)">Show</a></td>
                        <td><a class="btn btn-link" data-ng-disabled="col.pinned" data-ng-show="col.visible" data-ng-click="$grid.showHideColumn(gridOptions, col)">Hide</a></td>
                    </tr>
                </table>
            </div>
            <div class="text-center">
                <hr />
                <input type="button" class="btn" value="Close" data-ng-click="close()" />
                <hr />
            </div>
        </div>
    </tab>
    <tab>
        <tab-heading>Change Sorting</tab-heading>
        <div class="form-horizontal">
            <div class="tabhight">
                <table>
                    <tr data-ng-repeat="col in gridOptions.$gridScope.columns | minLength:'field':2">
                        <td>{{col.displayName}}</td>
                        <td><a class="btn btn-link" data-ng-show="$grid.SortHelper.showDirection(gridOptions, col.field,'asc')" data-ng-click="$grid.SortHelper.toggleSort(gridOptions, col.field)">ASC</a></td>
                        <td><a class="btn btn-link" data-ng-show="$grid.SortHelper.showDirection(gridOptions, col.field,'desc')" data-ng-click="$grid.SortHelper.toggleSort(gridOptions, col.field)">DESC</a></td>
                        <td><a class="btn btn-link" data-ng-show="$grid.SortHelper.showDirection(gridOptions, col.field)" data-ng-click="$grid.SortHelper.removeSort(gridOptions, col.field)">Remove</a></td>
                    </tr>
                </table>
            </div>
            <div class="text-center">
                <hr />
                <input type="button" class="btn" value="Close" data-ng-click="close()" />
                <hr />
            </div>

        </div>
    </tab>
    <tab>
        <tab-heading>Rename Columns</tab-heading>
        <div class="form-horizontal">
            <div class="tabhight">
                <table>
                    <tr data-ng-repeat="col in gridOptions.$gridScope.columns | minLength:'field':2">
                        <td>{{col.field}}</td>
                        <td><input class="input-large" type="text" data-ng-model="col.displayName" data-ng-minlength="2" /></td>
                    </tr>
                </table>
            </div>

            <div class="text-center">
                <hr />
                <input type="button" class="btn" value="Close" data-ng-click="close()" />
                <hr />
            </div>

        </div>
    </tab>
    <tab>
        <tab-heading>Display Order</tab-heading>
        <div class="form-horizontal">
            <div class="tabhight">
                <table>
                    <tr data-ng-repeat="col in gridOptions.$gridScope.columns | minLength:'field':2">
                        <td>{{$index}}.{{col.displayName}}</td>
                        <td>
                            <span class="span1" data-ng-show="col.index == 1"></span>
                            <span class="span1 text-center" data-ng-hide="col.index == 1"
                                  style="border: 1px solid black" data-ng-click="$grid.MoveColumn(gridOptions, $index+1, 'UP')">
                                <i class="icon-arrow-up" style="color: black"></i>
                            </span>
                        </td>
                        <td>
                            <span class="span1 text-center" data-ng-hide="col.index == (gridOptions.$gridScope.columns.length - 1)"
                                  style="border: 1px solid black" data-ng-click="$grid.MoveColumn(gridOptions, $index+1, 'DOWN')">
                                <i class="icon-arrow-down" style="color: black"></i>
                            </span>
                        </td>
                    </tr>
                </table>
            </div>

            @*<div class="row-fluid" data-ng-repeat="col in gridOptions.$gridScope.columns" style="border-bottom: 1px solid gray">
                <div data-ng-show="col.field.length > 2">
                    <span class="span6">{{$index}}.{{col.displayName}}</span>
                    <span class="span3" data-ng-show="col.index == 1"></span>
                    <span class="span3 text-center" data-ng-hide="col.index == 1"
                          style="border: 1px solid black" data-ng-click="$grid.MoveColumn(gridOptions, $index, 'UP')">
                        <i class="icon-arrow-up" style="color: black"></i>
                    </span>
                    <span class="span3 text-center" data-ng-hide="col.index == (gridOptions.$gridScope.columns.length - 1)"
                          style="border: 1px solid black" data-ng-click="$grid.MoveColumn(gridOptions, $index, 'DOWN')">
                        <i class="icon-arrow-down" style="color: black"></i>
                    </span>
                </div>
            </div>*@
            <div class="text-center">
                <hr />
                <input type="button" class="btn" value="Close" data-ng-click="close()" />
                <hr />
            </div>

        </div>
    </tab>
    <tab>
        <tab-heading>Filter Settings</tab-heading>
        <div class="form-horizontal">
            <!--display filter-->
            <table class="table table-bordered table-hover" data-ng-show="gridOptions.filtersArray.length > 0">
                <thead>
                    <tr>
                        <th>Field Name</th>
                        <th>Operator </th>
                        <th>Filter value</th>
                        <th colspan="2">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <tr data-ng-repeat="filter in gridOptions.filtersArray">
                        <td>{{filter.FieldName}}</td>
                        <td>{{filter.Operator}}</td>
                        <td data-ng-show="filter.FilterValue.length">{{filter.FilterValue}}</td>
                        <td data-ng-hide="filter.FilterValue.length">{{filter.FilterValueList | json}}</td>
                        <td></td>
                        <td><i style="width: 100%; color: red; line-height: 1.5em" class="icon-remove-circle icon-border" data-ng-click="$grid.FilterHelper.RemoveFilter(gridOptions, $index)"></i></td>
                    </tr>
                </tbody>
            </table>
            <!--new filter-->
            <div data-ng-form="filterInput">
                <div class="row-fluid">
                    <!-- field name -->
                    <select data-ng-class="span3" data-ng-model="gridOptions.customFilter.selectedField" class="input-medium"
                            data-ng-change="$grid.FilterHelper.ResetFilter(gridOptions, gridOptions.customFilter.selectedField); ">
                        <option data-ng-repeat="col in gridOptions.$gridScope.columns | minLength:'field':2 | orderBy: 'field'" value="{{col.field}}">{{col.displayName}}</option>
                    </select>
                    <!-- operators -->
                    <select class="span3" data-ng-required="true" data-ng-model="gridOptions.customFilter.selectedFilter"
                            data-ng-change="$grid.FilterHelper.filterChanged(gridOptions)"
                            data-ng-options="f.text group by f.type for f in gridOptions.customFilter.validFilterList"></select>
                    <!-- value -->
                    <span class="span4" data-ng-show="gridOptions.customFilter.selectedFilter">
                        <!-- value -->
                        <span data-ng-if="gridOptions.customFilter.selectedFilter.type === 'Value'">
                            <!-- text -->
                            <span style="width: 100%" data-ng-show="gridOptions.customFilter.selectedFieldType == 'Text'">
                                <input style="float: none" data-ng-required="gridOptions.customFilter.selectedFieldType == 'Text'" type="text"
                                       data-ng-model="gridOptions.customFilter.filterValue" />
                            </span>
                            <!-- number -->
                            <span style="width: 100%" data-ng-show="gridOptions.customFilter.selectedFieldType === 'Amount' || gridOptions.customFilter.selectedFieldType === 'Number'">
                                <input type="text" data-ng-required="gridOptions.customFilter.selectedFieldType === 'Amount' || gridOptions.customFilter.selectedFieldType === 'Number'"
                                       data-ng-model="gridOptions.customFilter.filterValue" />
                            </span>
                            <!-- date -->
                            <span style="width: 100%" data-ng-show="gridOptions.customFilter.selectedFieldType === 'Date' || gridOptions.customFilter.selectedFieldType === 'DateTime'">
                                <input data-ng-required="gridOptions.customFilter.selectedFieldType === 'Date' || gridOptions.customFilter.selectedFieldType === 'DateTime'"
                                       type="text" class="span3" data-ng-model="gridOptions.customFilter.filterValue" readonly="readonly" data-bs-datepicker="">
                                <button type="button" class="btn" data-toggle="datepicker"><i class="icon-calendar"></i></button>
                            </span>
                            <!-- bool -->
                            <span style="width: 100%" data-ng-show="gridOptions.customFilter.selectedFieldType === 'Bool'">
                                <select data-ng-model="gridOptions.customFilter.filterValue"
                                        data-ng-required="gridOptions.customFilter.selectedFieldType === 'Bool'">
                                    <option value="true">true</option>
                                    <option value="false">false</option>
                                </select>
                            </span>
                            <!-- enum -->
                            <span style="width: 100%" data-ng-show="gridOptions.customFilter.selectedFieldType === 'Enum'">
                                <select class="input-medium" data-ng-model="gridOptions.customFilter.filterValues"
                                        data-ng-required="gridOptions.customFilter.selectedFieldType === 'Enum'"
                                        data-ng-multiple="gridOptions.customFilter.selectedFilter.code === 'IsInList' || gridOptions.customFilter.selectedFilter.code === 'NotInList'">
                                    <option data-ng-repeat="enumval in gridOptions.customFilter.filterValueList"
                                            value="{{enumval}}">
                                        {{enumval}}
                                    </option>
                                </select>
                            </span>
                        </span>
                        <!-- field -->
                        <span data-ng-if="gridOptions.customFilter.selectedFilter.type === 'Field'">
                            <select class="input-medium" data-ng-model="gridOptions.customFilter.filterValue">
                                <option data-ng-repeat="fieldname in gridOptions.customFilter.relevantFields"
                                        value="{{fieldname}}">
                                    {{fieldname}}
                                </option>
                            </select>
                        </span>
                    </span>
                    <!-- add button -->
                    <span class="span2" data-ng-show="gridOptions.customFilter.selectedFilter">
                        <input type="button" data-ng-disabled="filterInput.$invalid" value="AddCondition" data-ng-click="$grid.FilterHelper.AddFilter(gridOptions)" />
                    </span>
                </div>
            </div>
            <!-- close button-->
            <div class="text-center">
                <hr />
                <input type="button" class="btn" value="Close" data-ng-click="close()" />
                <hr />
            </div>
        </div>
    </tab>
</tabset>